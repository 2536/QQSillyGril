/**
 * @author 小余味
 * @description 🐒这个人很懒什么都没有留下。
 * @origin 小余味
 * @version v1.0.0
 * @create_at 2022-09-08 07:40:14
 * @title 一键查饿
 * @public true
 * @rule 一键查饿
 * @encrypt true
 * @public false
 */
/**本脚本只适用于新版本傻妞，实现查询饿了么豆子等信息，以下三个参数请填写正确，elmck变量请备注好QQ号码即可查询 */
/**
 * 遇到使用问题请加QQ群：110641291
 */
 var qldizhi = "";
 var qlclient_id="";
 var qlclient_secret="";
 console.log("\u4f5c\u8005\u9879\u76ee\u5730\u5740\uff1ahttps://github.com/younweri/QQSillyGril");var s=sender;s.reply("\u6b63\u5728\u4e3a\u60a8\u67e5\u8be2\u672c\u5730\u6240\u6709\u997f\u4e86\u4e48\u8d44\u4ea7~");var qq=s.getUserId(),index=1,$jscomp$destructuring$var0=request({url:qldizhi+"/open/auth/token?client_id\x3d"+qlclient_id+"\x26client_secret\x3d"+qlclient_secret,method:"get"}),body=$jscomp$destructuring$var0.body,headers=$jscomp$destructuring$var0.headers,status=$jscomp$destructuring$var0.status,tokens=JSON.parse(body),$jscomp$destructuring$var1=request({url:qldizhi+"/open/envs?searchValue\x3d"+qq,method:"get",headers:{Authorization:"Bearer "+tokens.data.token}}),body=$jscomp$destructuring$var1.body,headers=$jscomp$destructuring$var1.headers,status=$jscomp$destructuring$var1.status,tokenaa=tokens.data.token,ckjson=JSON.parse(body);if(""==ckjson.data)s.reply("\u65e0\u672c\u5730\u997f\u4e86\u4e48\u8d26\u53f7\u4fe1\u606f");else for(var key in ckjson.data)if("elmck"==ckjson.data[key].name){var ck=ckjson.data[key].value,id=ckjson.data[key].id,remarks=ckjson.data[key].remarks,remarks=remarks.split("\x26")[1],$jscomp$destructuring$var2=request({url:"https://restapi.ele.me/eus/v5/user_detail",method:"get",headers:{cookie:ck}}),body=$jscomp$destructuring$var2.body,headers=$jscomp$destructuring$var2.headers,status=$jscomp$destructuring$var2.status,xx=JSON.parse(body);if(0<=body.indexOf("\u672a\u767b\u5f55")){s.reply("\u8d26\u53f7 "+remarks+" \u5df2\u8fc7\u671f,\u8bf7\u91cd\u65b0\u83b7\u53d6Ck,\u7cfb\u7edf\u5df2\u5220\u9664Ck");var $jscomp$destructuring$var3=request({url:qldizhi+"/open/envs",method:"delete",body:[id],headers:{Authorization:"Bearer "+tokenaa}}),body=$jscomp$destructuring$var3.body,headers=$jscomp$destructuring$var3.headers,status=$jscomp$destructuring$var3.status}else{var ck=ckjson.data[key].value,$jscomp$destructuring$var4=request({url:"https://h5.ele.me/restapi/svip_biz/v1/supervip/foodie/records?offset\x3d0\x26limit\x3d100\x26longitude\x3d116.397128\x26latitude\x3d39.916527",method:"get",headers:{cookie:ck}}),body=$jscomp$destructuring$var4.body,headers=$jscomp$destructuring$var4.headers,status=$jscomp$destructuring$var4.status,dzxx=JSON.parse(body),d=new Date,nf=d.getFullYear().toString(),yf=d.getMonth()+1,rf=d.getDate();10>rf&&(rf="0"+rf);var rq=nf+yf,jinridouzi=0,zh;for(zh in dzxx.records)0<=dzxx.records[zh].createdTime.indexOf(nf+"-"+yf+"-"+rf)&&(jinridouzi+=dzxx.records[zh].count);var benyuedouzi=dzxx.monthAccountInfo[rq].plusCount,zongongdouzi=dzxx.peaCount,pinimg=xx.avatar,img1=pinimg.substr(0,1),img2=pinimg.substr(1,2),img3=pinimg.slice(3)+"",userimg="https://cube.elemecdn.com/"+img1+"/"+img2+"/"+img3+".jpeg",userid=xx.user_id,username=xx.username,ckzt="",ckzt=1==xx.is_mobile_valid?"Cookie\u6709\u6548":"Cookie\u5931\u6548",$jscomp$destructuring$var5=request({url:"https://wallet.ele.me/api/storedcard/queryBalanceBycardType?cardType\x3dplatform",method:"get",headers:{cookie:ck}}),body=$jscomp$destructuring$var5.body,headers=$jscomp$destructuring$var5.headers,status=$jscomp$destructuring$var5.status,ye=JSON.parse(body),bbf=ye.data.totalAvailableAmount/100;s.reply(image(userimg)+"\u5e8f\u53f7:"+index+"\nQQ\u53f7\u7801\uff1a"+qq+"\n\u6635\u79f0\uff1a"+username+"\nID\uff1a"+userid+"\nCookie\u72b6\u6001\uff1a"+ckzt+"\n\u5f53\u524d\u8c46\u8c46\uff1a"+zongongdouzi+"\n\u4eca\u65e5\u6536\u5165\uff1a"+jinridouzi+"\n\u672c\u6708\u6536\u5165\uff1a"+benyuedouzi+"\n\u7b14\u7b14\u8fd4\u4f59\u989d\uff1a"+bbf);var $jscomp$destructuring$var6=request({url:qldizhi+"/open/envs",method:"put",body:{name:"elmck",value:ck,id:id,remarks:qq+"@"+userid+"\x26"+username},headers:{Authorization:"Bearer "+tokenaa}}),body=$jscomp$destructuring$var6.body,headers=$jscomp$destructuring$var6.headers,status=$jscomp$destructuring$var6.status,index=index+1}};